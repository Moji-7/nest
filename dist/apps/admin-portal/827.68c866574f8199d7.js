"use strict";(self.webpackChunkadmin_portal=self.webpackChunkadmin_portal||[]).push([[827],{5827:(P,d,n)=>{n.r(d),n.d(d,{ReportingModule:()=>E});var m=n(6895),i=n(6806),v=n(5096),b=n(2843),g=n(262),t=n(4650),A=n(529);let S=(()=>{class e{constructor(r){this.http=r,this.baseURL=v.N.apiUrl+"/reports"}handleError(r){let o="Unknown error!";return o=r.error instanceof ErrorEvent?`Error: ${r.error.message}`:`Error Code: ${r.status}\nMessage: ${r.message}`,window.alert(o),(0,b._)(o)}fetchCountBy(r,o){return this.http.get(`${this.baseURL}/${r}`,{params:{joinTable:r,studentId:o}}).pipe((0,g.K)(this.handleError))}averageStudentsAge(){return this.http.get(`${this.baseURL}/ageAverage`).pipe((0,g.K)(this.handleError))}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(A.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n(3047),p=n(1576),h=n(7392),f=n(782),a=n(7340);const C=(0,a.X$)("listAnimation",[(0,a.eR)("* => *",[(0,a.IO)(":leave",[(0,a.EY)(500,[(0,a.jt)("0.5s",(0,a.oB)({opacity:0}))])],{optional:!0}),(0,a.IO)(":enter",[(0,a.oB)({opacity:0}),(0,a.EY)(500,[(0,a.jt)("0.5s",(0,a.oB)({opacity:1}))])],{optional:!0})])]),R=(0,a.X$)("actionAnimation",[(0,a.SB)("orig",(0,a.oB)({transform:"scale(1)",opacity:1})),(0,a.SB)("small",(0,a.oB)({transform:"scale(0.75)",opacity:.3})),(0,a.eR)("* => *",(0,a.jt)("500ms ease-in-out"))]);var u=n(3546),L=n(4859);let Z=(()=>{class e{constructor(r){this.router=r}ngOnInit(){}gotoStudentList(r){this.router.navigate(["/students",{displyby:r||null}])}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(i.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["rihal-student-summery-info"]],inputs:{summery:"summery"},decls:9,vars:2,consts:[[1,"margin-bottom"],["fxFlex","20",1,"value"],[1,"primary"],["mat-raised-button","","color","primary","mat-icon-button","",3,"click"]],template:function(r,o){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title",1),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-content",2),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-actions")(6,"button",3),t.NdJ("click",function(){return o.gotoStudentList(o.summery.name)}),t.TgZ(7,"mat-icon"),t._uU(8,"arrow_right_al"),t.qZA()()()()),2&r&&(t.xp6(2),t.Oqu(o.summery.value),t.xp6(2),t.hij(" ",o.summery.name," "))},dependencies:[p.yH,u.a8,u.dn,u.n5,u.hq,L.lW,h.Hw],styles:[".primary[_ngcontent-%COMP%]{flex:1 1 auto;width:100%;min-width:166px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:4px}.value[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#04045a;margin-right:6px}"],data:{animation:[C,R]}}),e})();function w(e,s){if(1&e&&(t.TgZ(0,"div",7),t._UZ(1,"rihal-student-summery-info",8),t.qZA()),2&e){const r=s.$implicit;t.xp6(1),t.Q6J("summery",r)}}function I(e,s){if(1&e&&(t._UZ(0,"ngx-charts-pie-chart",9),t.ALo(1,"async")),2&e){const r=t.oxw();t.Q6J("results",t.lcZ(1,2,r.studentSummeryInfos$))("scheme",r.colorScheme)}}function O(e,s){if(1&e&&(t._UZ(0,"ngx-charts-bar-vertical",10),t.ALo(1,"async")),2&e){const r=t.oxw();t.Q6J("results",t.lcZ(1,9,r.studentSummeryInfos$))("xAxisLabel","students")("yAxisLabel","count")("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxis",!0)("yAxis",!0)("gradient",!0)}}function T(e,s){if(1&e&&(t._UZ(0,"ngx-charts-bar-horizontal",10),t.ALo(1,"async")),2&e){const r=t.oxw();t.Q6J("results",t.lcZ(1,9,r.studentSummeryInfos$))("xAxisLabel","students")("yAxisLabel","count")("legend",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxis",!0)("yAxis",!0)("gradient",!0)}}let y=(()=>{class e{constructor(r,o,c){this.route=r,this.router=o,this.reportservice=c,this.byCeriteria="classes",this.colorScheme={name:"myScheme",selectable:!0,group:l.N3.Ordinal,domain:["#ff0","#cf0","#03f"]}}fetchdata(){this.route.params.subscribe(c=>{this.byCeriteria=c.by,this.currentTitle=this.titles(this.byCeriteria),this.studentSummeryInfos$="ageAverage"===this.byCeriteria?this.reportservice.averageStudentsAge():this.reportservice.fetchCountBy(this.byCeriteria,0)})}ngOnInit(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.fetchdata()}titles(r){return console.log("umad"),[{name:"classes",icon:"classes",text:"students per classes"},{name:"countries",icon:"perm_media",text:"students per countries"},{name:"ageAverage",icon:"classes",text:"students average age"}].filter(c=>c.name===r)[0]}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(i.gz),t.Y36(i.F0),t.Y36(S))},e.\u0275cmp=t.Xpm({type:e,selectors:[["rihal-reporting-summery"]],decls:15,vars:8,consts:[[1,"alert","alert-warning"],["cols","2","rowHeight","1:1"],["fxLayout","row"],["class","padding-10","class","example-card",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"results","scheme",4,"ngSwitchCase"],[3,"results","xAxisLabel","yAxisLabel","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","gradient",4,"ngSwitchCase"],[1,"example-card"],[3,"summery"],[3,"results","scheme"],[3,"results","xAxisLabel","yAxisLabel","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","gradient"]],template:function(r,o){1&r&&(t.TgZ(0,"div")(1,"h2",0)(2,"mat-icon"),t._uU(3,"arrow_left"),t.qZA(),t._uU(4),t.qZA()(),t.TgZ(5,"mat-grid-list",1)(6,"mat-grid-tile")(7,"div",2)(8,"div"),t.YNc(9,w,2,1,"div",3),t.ALo(10,"async"),t.qZA()()(),t.TgZ(11,"mat-grid-tile",4),t.YNc(12,I,2,4,"ngx-charts-pie-chart",5),t.YNc(13,O,2,11,"ngx-charts-bar-vertical",6),t.YNc(14,T,2,11,"ngx-charts-bar-horizontal",6),t.qZA()()),2&r&&(t.xp6(4),t.Oqu(o.currentTitle.text),t.xp6(5),t.Q6J("ngForOf",t.lcZ(10,6,o.studentSummeryInfos$)),t.xp6(2),t.Q6J("ngSwitch",o.byCeriteria),t.xp6(1),t.Q6J("ngSwitchCase","ageAverage"),t.xp6(1),t.Q6J("ngSwitchCase","classes"),t.xp6(1),t.Q6J("ngSwitchCase","countries"))},dependencies:[m.sg,m.RF,m.n9,p.xw,h.Hw,f.Il,f.DX,l.$e,l.K$,l.JU,Z,m.Ov],styles:[".alert[_ngcontent-%COMP%]{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:2px solid transparent;border-radius:.25rem;font-size:20px;text-indent:26px}.alert-primary[_ngcontent-%COMP%]{color:#004085;background-color:#cce5ff;border-color:#b8daff}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.alert-warning[_ngcontent-%COMP%]{color:#856404;background-color:#fff3cd;border-color:#ffeeba}.alert-success[_ngcontent-%COMP%]{color:#155724;background-color:#d4edda;border-color:#c3e6cb}"],changeDetection:0}),e})(),x=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["rihal-reporting-home"]],decls:12,vars:0,consts:[[1,"layout-container",2,"width","80%","float","right"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet")(2,"br")(3,"br")(4,"br")(5,"br")(6,"br")(7,"br")(8,"br")(9,"br")(10,"br")(11,"h1"),t.qZA())},dependencies:[i.lC]}),e})();const M=[{path:"",component:x,children:[{path:"summeryBy",component:y},{path:"specificStudent",component:y}]}];let $=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[i.Bz.forChild(M),i.Bz]}),e})();var U=n(5794),Y=n(2289),B=n(5613),F=n(1161),J=n(3126);let E=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[x]}),e.\u0275inj=t.cJS({imports:[m.ez,$,J.q,B.ny,Y.xu,F.N,U.m]}),e})()}}]);